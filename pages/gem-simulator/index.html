<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>젬 가공 시뮬레이터</title>
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <main>
        <h1>젬 가공 시뮬레이터</h1>
        <div class="filters">
            <a href="../../" class="nav-button">메인으로</a>
        </div>

        <div class="simulator-wrapper">
            <div class="calculator-container">
                <!-- Gem Type -->
                <div class="input-group">
                    <label>젬 종류</label>
                    <div class="custom-dropdown" data-input-id="gem-type">
                        <div class="dropdown-selected"><span class="selected-value">질서의 젬</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="order">질서의 젬</div>
                            <div class="dropdown-option" data-value="chaos">혼돈의 젬</div>
                        </div>
                        <input type="hidden" id="gem-type" value="order">
                    </div>
                </div>
                <!-- Gem Sub-type -->
                <div class="input-group">
                    <label>세부 종류</label>
                    <div class="custom-dropdown" data-input-id="gem-sub-type">
                        <div class="dropdown-selected"><span class="selected-value"></span></div>
                        <div class="dropdown-options" id="gem-sub-type-options"></div>
                        <input type="hidden" id="gem-sub-type">
                    </div>
                </div>
                <!-- Gem Grade -->
                <div class="input-group">
                    <label>젬 등급</label>
                    <div class="custom-dropdown" data-input-id="gem-grade">
                        <div class="dropdown-selected"><span class="selected-value">고급</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="advanced">고급</div>
                            <div class="dropdown-option" data-value="rare">희귀</div>
                            <div class="dropdown-option" data-value="heroic">영웅</div>
                        </div>
                        <input type="hidden" id="gem-grade" value="advanced">
                    </div>
                </div>
                <!-- Willpower -->
                <div class="input-group">
                    <label>현재 의지력 효율</label>
                    <div class="custom-dropdown" data-input-id="current-willpower">
                        <div class="dropdown-selected"><span class="selected-value">1</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="1">1</div><div class="dropdown-option" data-value="2">2</div><div class="dropdown-option" data-value="3">3</div><div class="dropdown-option" data-value="4">4</div><div class="dropdown-option" data-value="5">5</div>
                        </div>
                        <input type="hidden" id="current-willpower" value="1">
                    </div>
                </div>
                <!-- Points -->
                <div class="input-group">
                    <label>현재 포인트</label>
                    <div class="custom-dropdown" data-input-id="current-points">
                        <div class="dropdown-selected"><span class="selected-value">1</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="1">1</div><div class="dropdown-option" data-value="2">2</div><div class="dropdown-option" data-value="3">3</div><div class="dropdown-option" data-value="4">4</div><div class="dropdown-option" data-value="5">5</div>
                        </div>
                        <input type="hidden" id="current-points" value="1">
                    </div>
                </div>
                <!-- Attempts -->
                <div class="input-group">
                    <label>남은 가공 횟수</label>
                    <div class="custom-dropdown" data-input-id="attempts-left">
                        <div class="dropdown-selected"><span class="selected-value">5</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="0">0</div><div class="dropdown-option" data-value="1">1</div><div class="dropdown-option" data-value="2">2</div><div class="dropdown-option" data-value="3">3</div><div class="dropdown-option" data-value="4">4</div><div class="dropdown-option" data-value="5">5</div><div class="dropdown-option" data-value="6">6</div><div class="dropdown-option" data-value="7">7</div><div class="dropdown-option" data-value="8">8</div><div class="dropdown-option" data-value="9">9</div>
                        </div>
                        <input type="hidden" id="attempts-left" value="5">
                    </div>
                </div>
                <!-- Rerolls -->
                <div class="input-group">
                    <label>다른 항목 보기</label>
                    <div class="custom-dropdown" data-input-id="rerolls-left">
                        <div class="dropdown-selected"><span class="selected-value">0</span></div>
                        <div class="dropdown-options">
                            <div class="dropdown-option" data-value="0">0</div><div class="dropdown-option" data-value="1">1</div><div class="dropdown-option" data-value="2">2</div><div class="dropdown-option" data-value="3">3</div><div class="dropdown-option" data-value="4">4</div><div class="dropdown-option" data-value="5">5</div>
                        </div>
                        <input type="hidden" id="rerolls-left" value="0">
                    </div>
                </div>
            </div>

            <div class="result-container">
                <div class="input-group">
                    <label for="simulation-count">시뮬레이션 횟수</label>
                    <input type="number" id="simulation-count" value="20000" min="1" max="1000000" step="1000">
                </div>
                <button id="calculate-btn">확률 계산</button>
                <div id="results-display">
                    <p>설정을 선택하고 "확률 계산" 버튼을 누르세요.</p>
                </div>
                <div class="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                    <div class="progress-text" id="progress-text"></div>
                </div>
            </div>
        </div>
    </main>
    <script type="module" src="simulator.js"></script>
</body>
</html>
